{% extends 'books/base.html' %}

{% block title %}
    Book {{ book.title }} details
{% endblock %}

{% block body %}
    <h1>Book {{ book.title }} details</h1>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script>
    $(document).ready(function() {
        $('#mark-as-read').click(function() {
            var itemId = $(this).data('item-id');
            $.ajax({
                url: '/mark_as_read/' + itemId + '/',
                success: function(data) {
                    alert(data.message);
                }
            });
        });
    });
</script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script>
    $(document).ready(function() {
        $('#add-to-favorites').click(function() {
            var itemId = $(this).data('item-id');
            $.ajax({
                url: '/add_to_favorites/' + itemId + '/',
                success: function(data) {
                    alert(data.message);
                }
            });
        });
    });
</script>

<button id="add-to-favorites" data-item-id="{{ item.id }}">Add to Favorites</button>
<button id="mark-as-read" data-item-id="{{ item.id }}">Mark as Read</button>
{% endblock%}
